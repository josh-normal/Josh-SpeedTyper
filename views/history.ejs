<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../stylesheets/style.css">
    <link rel="icon" href="../images/keyboard.png" type="image/icon type">
    <title>Josh's Speed Typer</title>
</head>
<body>
    <header>
        <div class="icon">
            <img src="../images/keyboard.png" alt="keyboard icon">
            <h1><a href="/user">SpeedTyper</a></h1>
        </div>
        <div class="header-link">
            <h1><a href="/user">Home</a></h1>
            <h1><a href="/user/resources">Resources</a></h1>
            <% if (visitor) { %>
                <h1><a href="/logout">Log Out</a></h1>
            <% } else { %>
                <h1><a href="/auth/google">Login with Google</a></h1>
            <% } %>
        </div>
    </header>

    <section>
        <div class="history">
            <p>Your last 20 practices information</p>
            <table cellspacing="0" cellpadding="0">
                <colgroup>
                    <col width="40px">
                    <col width="100px">
                    <col width="200px">
                    <col width="120px">
                    <col>
                </colgroup>
                <tr class="table-head">
                    <td>#</td>
                    <td>Speed</td>
                    <td>Source</td>
                    <td>Type</td>
                    <td>When</td>
                </tr>
                <% let i = 0; %>
                <% historyWhen.forEach(elm => { %>
                    <% i += 1 %>
                    <tr>
                        <td><%= i %></td>
                        <td><%= elm.speed %></td>
                        <td><%= elm.sourceName %></td>
                        <td><%= elm.sourceType %></td>
                        <td><%= (elm.when).toISOString().slice(0, 19).replace(/-/g, "/").replace("T", " ") %></td>
                    </tr>
                <% }) %>
            </table>
        </div>

        <div class="history-link">
                <a href="/user">Main menu</a>
        </div>

        <div class="history">
            <p>Your fastest 20 practices information</p>
            <table>
                <colgroup>
                    <col width="40px">
                    <col width="100px">
                    <col width="200px">
                    <col width="120px">
                    <col>
                </colgroup>
                <tr class="table-head">
                    <td>#</td>
                    <td>Speed</td>
                    <td>Source</td>
                    <td>Type</td>
                    <td>When</td>
                </tr>
                <% i = 0 %>
                <% historySpeed.forEach(elm => { %>
                    <% i += 1 %>
                    <tr>
                        <td><%= i %></td>
                        <td><%= elm.speed %></td>
                        <td><%= elm.sourceName %></td>
                        <td><%= elm.sourceType %></td>
                        <td><%= (elm.when).toISOString().slice(0, 19).replace(/-/g, "/").replace("T", "  ") %></td>
                    </tr>
                <% }) %>
            </table>
        </div>
        <br><br><br>
    </section>
</body>
</html>